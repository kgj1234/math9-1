
\documentclass[addpoints,12pt]{exam}
\usepackage{amssymb,amsmath,amsthm,graphicx}
\usepackage{tikz}
\usepackage{listings}
\usepackage{courier}
\usepackage{graphicx}
\usepackage{scrextend}

%\lstset{frame=l,xleftmargin=\fboxsep,xrightmargin=-\fboxsep,colframe=gray}
\lstset{frame=l,xleftmargin=\fboxsep,xrightmargin=-\fboxsep}
\lstset{basicstyle=\ttfamily\footnotesize,breaklines=true}


\newcommand{\code}[1]{{\texttt{#1}}}
\newcommand{\mcode}[1]{{\text{\texttt{#1}}}}

\linespread{1.2}
\usepackage{color}
\definecolor{gray}{rgb}{0.3,0.3,0.3}



\pagestyle{headandfoot}
\runningheadrule
\firstpageheader{Math 9}{\,}{Midterm -- version {\Huge \color{gray} \fontfamily{pbk}\selectfont A}}
\runningheader{Math 9}
              {\,}
              {Midterm ver A, Page \thepage\ of \numpages}
\firstpagefooter{}{}{}
\runningfooter{}{}{}
\newtheorem{theorem}{Theorem}
\newtheorem{definition}{Definition}
\newtheorem{expectation}{Expectation}

\newcommand{\RR}{\mathbb{R}}

\begin{document}
\begin{center}
\fbox{\fbox{\parbox{5.5in}{\centering
{\tt Directions:} The exam is 50 minutes long. Please read each question carefully. 
\vspace{10pt}

{\sc each question is worth 20 points}
When asked to write code, you should write working Python code that has correct syntax. 

Use the backs of the pages if needed.
}}}
\end{center}


\vspace{0.2in}

\makebox[\textwidth]{Last Name:\enspace\hrulefill}

\vspace{0.2in}

\makebox[\textwidth]{First Name:\enspace\hrulefill}

\vspace{0.2in}

\makebox[\textwidth]{Student ID \#:\enspace\hrulefill}

\vspace{0.2in}

\vspace{1in}

\gradetable

\newpage

\begin{questions}

\question[20]
Write down the output of the following programs.

\begin{enumerate}
  \item 
\begin{lstlisting}[language=python]
i = 97 
while i >= 0:
  print(i)
  i -= 10
print i
\end{lstlisting}
    \vfill

\item 
\begin{lstlisting}[language=python]
def f(n):
  count = 0
  while n >= 1:
    n = n // 2
    count += 1
  return count

print (f(15), f(16))
\end{lstlisting}

    \vfill

  \item 
\begin{lstlisting}[language=python]
def g(n):
  if n == 0:
    return [] 
  return [n % 10] + g(n // 10) 

print g(5120)
\end{lstlisting}

    \vfill
\end{enumerate}

\newpage
\question[20] Produce the following lists without using for or while loops. 
\begin{enumerate}
  \item \code{[1,2,3,4,5,11,12,13,14,15,21,22,23,24,25,31,32,33,34,35]}
    \vfill
  \item \code{[9,99,999,9999,99999,999999,9999999]}
    \vfill
  \item \code{[1,3,5,7,1,3,5,7,1,3,5,7]}
    \vfill
\end{enumerate}

\newpage
\question[20] Write down the output of the following code:

\begin{enumerate}
  \item (10 pts) 
\begin{lstlisting}[language=python]
reduce(lambda x, y: x*y, [2 for i in range(5)])
\end{lstlisting}
\vfill

  \item (10 pts) 
\begin{lstlisting}[language=python]
reduce(lambda x, y: x if (x>y) else y, range(5))
\end{lstlisting}
\vfill

\end{enumerate}

\newpage
\question[20] Write down a Python function \code{second\_largest(xs)} that will return the second largest element of a list \code{xs}.  [Hint: sort but do not use the built-in \code{sort()} function]


\newpage
\question[20] Write down a Python function \code{base\_10(binary\_number)} that will convert a number in binary to its base-10 equivalent, e.g. \code{base\_10(1101)} should return \code{13}. [Hint: use \code{digits(binary\_number)} which gives you a list of the digits of the binary number in reverse order
and remember that, e.g., 11 in base 2 is $2^1 + 2^0$ in base 10.] 

\begin{lstlisting}[language=python]
def digits(n): 
    '''returns a list containing digits of n in reverse order'''
    if n == 0:
        return []
    return [n % 10] + digits(n // 10)

def base_10(binary_number):
    # your code here
\end{lstlisting}

\end{questions}
\end{document}
